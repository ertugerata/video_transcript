# YouTube & Ses Dosyası Özetleyici (Video Transcript & Summarizer)

Bu proje, YouTube videolarından ve yüklenen ses dosyalarından transkript çıkaran, Google Gemini API kullanarak özetleyen ve tüm verileri **Supabase** bulut veritabanında saklayan gelişmiş bir Flask web uygulamasıdır.

Uygulama **Client-Server** mimarisi ile çalışacak şekilde tasarlanmıştır:
*   **Web İstemcisi (`app.py`):** Kullanıcı arayüzünü sunar, veritabanı ile konuşur ve hafif işlemleri yapar.
*   **MCP Medya Sunucusu (`mcp-media-server`):** Ağır medya işleme, YouTube indirme ve Whisper model işlemlerini yöneten bileşendir.

## Özellikler

*   **YouTube Desteği:** Video linki (standart, short veya embed) üzerinden transkript çekme. (Uzaktaki MCP sunucusu veya yerel modüller kullanılır).
*   **Yapay Zeka Özeti:** Google Gemini (Pro/Flash) modelleri ile içeriklerin otomatik özetini çıkarma.
*   **Medya Dönüştürücü:** Ses ve video dosyalarını farklı formatlara (örn. mp3) dönüştürme aracı (FFmpeg gerektirir).
*   **Veritabanı Kaydı:** Tüm aramalar ve çeviriler **Supabase** veritabanında saklanır ve önbelleklenir.
*   **Dışa Aktarma:** Transkriptleri ve özetleri `.txt` veya `.md` formatında indirme.
*   **Yerel Ses İşleme (Opsiyonel):** Gerekli ek kütüphaneler yüklendiğinde, yerel Whisper modelleri ile dosya yükleyip transkript alabilirsiniz.

## Gereksinimler

*   **Python 3.8+**
*   **FFmpeg:** Ses işleme ve format dönüştürme işlemleri için sisteminizde kurulu olmalıdır.
    *   *Ubuntu/Debian:* `sudo apt install ffmpeg`
    *   *macOS:* `brew install ffmpeg`
    *   *Windows:* [FFmpeg indir](https://ffmpeg.org/download.html) ve PATH'e ekle.
*   **Supabase Hesabı**
*   **Google Gemini API Anahtarı**

## Kurulum

1.  **Depoyu klonlayın:**
    ```bash
    git clone <repo-url>
    cd <repo-folder>
    ```

2.  **Temel İstemci Paketlerini Yükleyin:**
    Web arayüzünü çalıştırmak için gerekli hafif paketleri yükler.
    ```bash
    pip install -r requirements.txt
    ```

    > **Önemli Not:** Eğer **yerel ses dosyası işleme (Whisper)** özelliğini kullanmak veya YouTube işlemlerini tamamen yerel makinenizde yapmak istiyorsanız, sunucu tarafı bağımlılıklarını da yüklemelisiniz:
    > ```bash
    > pip install -r mcp-media-server/requirements.txt
    > ```

3.  **Çevresel değişkenleri ayarlayın:**
    Proje ana dizininde `.env` dosyası oluşturun ve aşağıdaki anahtarları ekleyin:
    ```env
    GEMINI_API_KEY=sizin_gemini_api_anahtariniz
    SUPABASE_URL=https://sizin-proje-id.supabase.co
    SUPABASE_KEY=sizin_supabase_anon_key
    ```

4.  **Supabase Veritabanı Kurulumu:**

    Supabase panelinizde "SQL Editor" kısmına giderek aşağıdaki sorguyu çalıştırın:

    ```sql
    create table transcripts (
      id bigint generated by default as identity primary key,
      video_id text,
      url text,
      full_transcript text,
      simple_transcript text,
      language text,
      summary text,
      created timestamptz default now()
    );
    ```

## Kullanım

Uygulamayı başlatmak için:

```bash
python app.py
```

Tarayıcınızda **`http://localhost:5000`** adresine gidin.

### 1. YouTube Transkripti & Özeti
*   YouTube URL'sini yapıştırın ve "Transkript Getir" butonuna basın.
*   Uygulama, işlemi gerçekleştirmek için tanımlı MCP sunucusuyla (veya yerel modüllerle) iletişim kurar.

### 2. Ses Dosyası Yükleme (Whisper)
*   **Dikkat:** Bu özellik için `openai-whisper` kütüphanesinin yüklü olması gerekir (bkz. Kurulum adım 2).
*   "Dosya Yükle" sekmesinden ses dosyası seçin ve model boyutunu belirleyin.

### 3. Medya Dönüştürücü
*   FFmpeg kurulu olduğu sürece dosyalarınızı mp3 vb. formatlara dönüştürebilirsiniz.

## Proje Yapısı

*   `app.py`: Ana web uygulaması ve MCP istemcisi.
*   `mcp_client_utils.py`: Uzaktaki MCP sunucusuyla iletişim kuran istemci modülü.
*   `requirements.txt`: İstemci uygulaması için gerekli temel bağımlılıklar.
*   `mcp-media-server/`:
    *   `src/server.py`: MCP sunucu uygulaması.
    *   `src/transcribe.py`: Whisper transkripsiyon modülü.
    *   `requirements.txt`: Sunucu ve ağır işlemler için gerekli bağımlılıklar.
